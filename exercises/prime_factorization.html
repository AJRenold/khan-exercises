<!DOCTYPE html>
<html data-require="math graphie">
	<head>
		<title>Prime Factorization</title>
		<script src="../khan-exercise.js"></script>
	</head>
	<body>
		<div class="exercise">
			<div class="vars">
				<var id="cx">0</var>
				<var id="y">0</var>
			</div>

			<div class="problems">
				<div id="prime">
					<div class="vars">
						<var id="NUMBER">getPrime()</var>
					</div>
					<p class="question">What is the prime factorization of <code><var>NUMBER</var></code>?</p>
					<p>Type each prime factor separated by an x, like this: 2 x 3.</p>
					<p class="solution"><var>NUMBER</var></p>
					<div class="graphie" id="factor-tree">
						init({
							range: [[-1, 2 ], [- 1, 1]],
							scale: [30, 30]
						});

						label( [cx + 1, y], NUMBER );
						circle( [cx + 1, y], 0.5 );
					</div>
					<div class="hints">
						<p>Because <code><var>NUMBER</var></code> is prime, its prime factorization is simply <code><var>NUMBER</var></code>.</p>
						<p> TODO: graph stuff should go here </p>
						
					</div>
				</div>
				
				<div id="composite">
					<div class="vars">
						<var id="NUMBER">getComposite()</var>
						<var id="SOLUTION">getPrimeFactorization( NUMBER )</var>
						<var id="FACTORIZATION">SOLUTION.slice( 0, SOLUTION.length - 1 )</var>
						<var id="curr">NUMBER</var>
					</div>

					<p class="question">What is the prime factorization of <code><var>NUMBER</var></code>?</p>
					<p>Type each prime factor separated by an x, like this: 2 x 3.</p>
					<p class="solution" data-type="primeFactorization"><var>SOLUTION.join("x")</var></p>
					<div class="graphie" id="factor-tree">
						init({
							range: [[-1, FACTORIZATION.length + 2 ], [- 2 * FACTORIZATION.length - 1, 1]],
							scale: [30, 30]
						});

						label( [cx + 1, y], curr );
					</div>


					<div class="graphie" data-update="factor-tree" data-each="FACTORIZATION as factor">
							path( [ [cx + 1, y - 0.5], [cx, y - 1.5] ] );
							path( [ [cx + 1, y - 0.5], [cx + 2, y - 1.5] ] );
							y -= 2;
							cx += 1;

							curr = curr / <var>factor</var>;

							label( [cx - 1, y], <var>factor</var> );
							circle( [cx - 1, y], 0.5);
							label( [cx + 1, y], curr );
					</div>
					<div class="graphie" data-update="factor-tree">
						circle( [cx + 1, y], 0.5);
					</div>
					<div class="hints">
						<p>Let us draw a factor tree.</p>
						<p> TODO: graph stuff should go here </p>
					</div>
				</div>
			</div>

			<div class="hints">

			</div>
		</div>
	</body>
</html>
