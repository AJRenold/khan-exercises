<!DOCTYPE html>
<html data-require="math graphie">
<head>
	<title>Addition 2</title>
	<script src="../khan-exercise.js"></script>
	<script>
		function drawDigits ( digits, startX, startY ) {
			with ( KhanUtil.currentGraph ) {
				jQuery.each( digits, function( index, digit ) {
					var str = "\\Huge{" + digit + "}";
					label( [ startX - index, startY ], str );
				});
			}
		}
	</script>
</head>
<body>
	<div class="exercise">
		<div class="vars">
			<var id="A">randRange( 10, 99 )</var>
			<var id="B">randRange( 1, 9 )</var>
			<var id="A_DIGITS">digits( A )</var>
			<var id="B_DIGITS">digits( B )</var>
			<var id="A_PADDED">
				padDigits( A_DIGITS, max( A_DIGITS.length, B_DIGITS.length ) )
			</var>
			<var id="B_PADDED">
				padDigits( B_DIGITS, max( A_DIGITS.length, B_DIGITS.length ) )
			</var>
			<var id="ANSWER">[1, 2]</var>
			<var id="CARRY">0</var>
		</div>

	<div class="problems">
		<div>
			<div class="graphie" id="numbers">
				init({
					range: [ [ -1, 3 ], [ 0, 3 ] ],
					scale: [30, 45]
				});
				drawDigits( A_DIGITS, 2, 2 );
				drawDigits( B_DIGITS, 2, 1 );

				path( [ [ -0.5, 0.5 ], [ 2.5, 0.5 ] ]);

				label( [ 0, 1 ] ,"\\huge{ + }" )
			</div>
			<div class="solution"><var>A + B</var></div>
		</div>
	</div>
	<div class="hints">
		<div class="graphie" data-update="numbers">
			jQuery.each( A_PADDED, function( index ) {
				var sum = A_PADDED[ index ] + B_PADDED[ index ] + CARRY;
				CARRY = floor( sum / 10 );
				ANSWER[ index ] = sum % 10;
				if ( CARRY !== 0 ) {
					label( [ 1 - index, 3 ], CARRY, "below" );
				}
			});

			if ( CARRY !== 0 ) {
				ANSWER[ A_PADDED.length ] = CARRY;
			}
			drawDigits( ANSWER, 2, 0 );
		</div>
	</div>
	</div>
</body>
</html>
