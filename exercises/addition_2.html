<!DOCTYPE html>
<html data-require="math">
<head>
	<title>Addition 1</title>
	<script src="../khan-exercise.js"></script>
  <script>
    /* Returns a random number between start and stop, inclusive. */
    function rand_range(start, stop){
      return Math.floor(Math.random() * (stop - start + 1)) + start;
    }
    
    /* Given a size SIZE, returns a string with SIZE digits,
     * padding it with sufficient 0s to be of size PADDING */
    function get_random_num(size, padding){
      var result = 0;
      var start = Math.pow(10, size - 1);
      var stop = Math.pow(10, size);
      while (true){
        result = rand_range(start, stop);

        /* ensure final digit is not 0 */
        if (result % 10 == 0){
          continue;
        }

        result = result.toString();
        /* Pad with 0s if necessary */
        if (padding){
          while (result.length < padding){
            result = "0" + result;
          }
        }

        return result;
      }
    }

    /* Do you need to carry something when adding a and b? */
    function needs_to_carry(a, b){
      return (a % 10 + b % 10 >= 10);
    }

    /* The carrying hint */
    function carry_hint(a, b){
      if (needs_to_carry(a, b)){
        return ", so put down " + (a + b) % 10 + " and carry the 1.";
      }
      return "";
    }

    function carry(a, b){
      if (needs_to_carry(a, b)){
        return "1 + ";
      }
      return "";
    }
  </script>
</head>
<body>
	<div class="exercise">
	<div class="vars">
		<var id="A_STR">get_random_num(2)</var>
		<var id="B_STR">get_random_num(1, 2)</var>
    <var id="A">parseInt(<var>A_STR</var>)</var>
    <var id="B">parseInt(<var>B_STR</var>)</var>
    <var id="CARRY">carry_hint(<var>A</var>, <var>B</var>)</var>
    <var id="CARRY_NUM">carry(<var>A</var>, <var>B</var>)</var>
	</div>

	<div class="problems">
		<div>
			<p class="question"><var>A_STR</var> + <var>B_STR</var> = ?</p>
			<div class="solution"><var>A + B</var></div>
		</div>
	</div>
  <div class="hints">
    <p><var>A % 10</var> + <var>B % 10</var> = <var>A % 10 + B % 10</var><var>CARRY</var> </p>
    <p><var>CARRY_NUM</var><var>Math.floor(A / 10) % 10</var> + <var>Math.floor(B / 10) % 10</var> = <var>Math.floor(A/10)%10 + Math.floor(B/10)%10</var></p>
    <p>Put them together: <var>A + B</var></p>
  </div>
	</div>
</body>
</html>
