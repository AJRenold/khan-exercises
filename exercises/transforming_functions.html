<!DOCTYPE html>
<html data-require="math graphie expressions">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Transforming Functions</title>
    <script src="../khan-exercise.js"></script>
    <style type="text/css">
        #answer_area input[type="text"] {
            margin: 0 0 0 3px;
            width: 25px;
        }
    </style>
</head>
<body>
    <div class="exercise">
        <div class="problems">
            <div id="scale-on-y">
                <div class="vars"> 
                    <var id="X_ORIG">randRange( -8, 8 )</var>
                    <var id="UP_ORIG">randRangeNonZero(-1, 1)</var>
                    <!-- Ensure Y_SCALE*Y_ORIG is an integer-->
                    <div data-ensure="abs(Y_SCALE*Y_ORIG) < 16 && (abs(Y_SCALE*Y_ORIG) - floor(abs(Y_SCALE*Y_ORIG))) < 0.001">
                        <var id="Y_ORIG">randRange( -8, 8 )</var>
                        <var id="SCALE_FACTOR">randRangeNonZero(-4, 4)</var>
                        <var id="SCALE_DIR">randFromArray(["shrink", "expand"])</var>
                        <!-- data-ensure="abs(X_ORIG/X_SCALE + X_SHIFT) <= 10" -->
                        <var id="Y_SCALE">
                            SCALE_DIR === "shrink" ? SCALE_FACTOR : 1/SCALE_FACTOR</var>
                        </var>
                    </div>
                    <var id="Y_SCALE_DISPLAY"> abs(Y_SCALE) < 1? "\\dfrac{"+ (Y_SCALE > 0?1:-1) + "}{" + abs(SCALE_FACTOR) +"}":Y_SCALE</var>
                    <var id="Y_SCALE_DISPLAY_2"> abs(Y_SCALE*UP_ORIG) < 1? 
                        "\\dfrac{"+ (Y_SCALE*UP_ORIG > 0?1:-1) + "}{" + abs(SCALE_FACTOR) +"}":Y_SCALE*UP_ORIG
                    </var>
                    <var id="X_SHIFT">randRangeNonZero(-10 - X_ORIG, 10 - X_ORIG)</var>
                    <var id="Y_SHIFT" data-ensure="abs(Y_SCALE * UP_ORIG + Y_ORIG * Y_SCALE + Y_SHIFT) < 16">
                        randRangeNonZero(-10 - ceil(abs(Y_ORIG * Y_SCALE)) , 10 - ceil(abs(Y_ORIG * Y_SCALE)))
                    </var>
                </div> 
                <div class="problem">
                    <p><code>\red{f(x)}</code> is graphed in <span class="hint_red">red</span>.</p>
                    <p><code>\blue{g(x)}</code> is graphed in <span class="hint_blue">blue</span>.</p>
                    <p>What is <code>\blue{g(x)}</code> in terms of <code>\red{f(x)}</code>?</p>
                </div>
                <div class="graphie" id="G">
                    graphInit({
                        range: 20,
                        scale: 10,
                        labelStep: 1,
                        axisArrows: "<->"
                    })

                    style({
                        stroke: RED,
                        strokeWidth: 2,
                        arrows: null
                    });

                    plot( function( x ) {
                        return UP_ORIG * pow(( x + X_ORIG), 2 ) + Y_ORIG;
                    }, [-20, 20]);

                    style({
                        stroke: BLUE
                    });

                    plot( function( x ) {
                        return  Y_SCALE * (UP_ORIG * pow( x + X_SHIFT + X_ORIG, 2) +  Y_ORIG) + Y_SHIFT;
                    }, [-20, 20]);
                </div>
                <p class="solution" data-type="multiple">
                    <span class="sol" data-type="rational"><var>Y_SCALE</var></span>
                    <code>f(x+</code><span class="sol" data-type="decimal"><var>X_SHIFT</var></span>
                    <code>)+</code><span class="sol" data-type="decimal"><var>Y_SHIFT</var></span>
                </p>
                <div class="hints">
                    <div>
                        To get from <code>f(x)</code> to <code>g(x)</code>, first we figure out what the scaling factor is. 
                        Once the scaling factor is solved, this problem will be simplified to a function translation problem. 
                    </div>
                    <div> 
                        <p>
                        The scaling factor can be computed as <code>\dfrac{\Delta g}{\Delta f}</code> 
                        with the same amount of change on x-axis from the vertice.
                        </p>
                        <p>
                        Let <code>(x_0, y_0)</code> denote the vertex of <code>f(x)</code>. <br/>
                        Let <code>(x_1, y_1)</code> denote the vertex of <code>g(x)</code>. <br/>
                        </p>
                        <p>
                        <code>(x_0, y_0) = (<var>-X_ORIG</var>, <var>Y_ORIG</var>)</code> <br/>
                        <code>(x_1, y_1) = (<var>-X_ORIG - X_SHIFT</var>, <var>Y_SCALE * Y_ORIG + Y_SHIFT</var>)</code> 
                        </p>
                        <p>
                        We can calculate the scaling factor as <br/> 
                        <code>
                            \dfrac{g(x_1 + u) - g(x_1)}{f(x_0 + u) - f(x_0)} 
                        </code> 
                        ,with any arbitrary <code>u</code>. 
                        </p>
                    </div>
                    <div>
                        <p>For simplicity, let's pick u = 1, the scaling factor can be calculated as </p>
                        <p>
                        <code> 
                            \dfrac{g(x_1 + 1) - g(x_1)}{f(x_0 + 1) - f(x_0)} 
                            = \dfrac{g(<var>-X_ORIG - X_SHIFT</var>+1) - g(<var>-X_ORIG - X_SHIFT</var>)}{f(<var>-X_ORIG</var>+1) - f(<var>-X_ORIG</var>)}
                        </code>
                        </p>
                        <p>
                        <code>
                            = \dfrac{g(<var>-X_ORIG - X_SHIFT+1</var>) - g(<var>-X_ORIG - X_SHIFT</var>)}{f(<var>-X_ORIG+1</var>) - f(<var>-X_ORIG</var>)}
                            = \dfrac{<var>Y_SCALE_DISPLAY_2</var>}{<var>UP_ORIG</var>}
                            = <var>Y_SCALE_DISPLAY</var>
                        </code>
                        </p>
                    </div>
                    <div>
		        <p>Now we know the scaling factor <code><var>Y_SCALE_DISPLAY</var></code>, we can scale f(x) vertifically 
                           by multiplying by <code><var>Y_SCALE_DISPLAY</var></code>, giving 
                           <code class="hint_purple"><var>(Y_SCALE === 1)?"":Y_SCALE_DISPLAY</var>f(x)</code>.</p>
                        <div class="graphie" data-update="G">
                             style({
                                 stroke: PURPLE
                                 });
                             plot(function( x ) {
                                      return  Y_SCALE* (UP_ORIG * pow(( x + X_ORIG ), 2 ) + Y_ORIG);
                                  }, 
                                 [-20, 20]);
                        </div>
                   </div>
                   <div>
                       <p>Shift the function <code><var>(Y_SCALE === 1)?"":Y_SCALE_DISPLAY</var>f(x)</code>
                          <var>(Y_SHIFT &gt; 0 ? "up " : "down ") + abs(Y_SHIFT)</var> 
                          <var>(abs(Y_SHIFT) === 1 ? "unit" : "units")</var>, 
                          giving 
                          <code class="hint_green">
                              <var>(Y_SCALE === 1)?"":Y_SCALE_DISPLAY</var>f(x)<var>Y_SHIFT &gt; 0? "+":"-"</var><var>abs(Y_SHIFT)</var>
                          </code>.
                        </p>
                        <div class="graphie" data-update="G">
                            style({
                            strokeWidth: 2,
                            stroke: GREEN,
                            arrows: "->",
                            strokeDasharray: "- "
                            });

                            plot( function( x ) {
                                return  Y_SCALE* UP_ORIG * pow(( x + X_ORIG ), 2 ) + Y_SCALE * Y_ORIG + Y_SHIFT;
                                }, [-20, 20]); 

                            style({
                               strokeWidth: 2,
                               strokeDasharray: ""
                            });
                            path([ [-X_ORIG,  Y_SCALE* Y_ORIG], [-X_ORIG, Y_SCALE * Y_ORIG + Y_SHIFT] ]);
                       </div>
                   </div>
                   <div>
                       <p>Now shift the function <code><var>(Y_SCALE === 1)?"":Y_SCALE_DISPLAY</var>
                          f(x)<var>Y_SHIFT &gt; 0? "+":"-"</var><var>abs(Y_SHIFT)</var></var></code> 
                          <var>(X_SHIFT &gt; 0 ? "left " : "right ")</var> <var>abs(X_SHIFT)</var> 
                          <var>(abs(X_SHIFT) === 1 ? "unit" : "units")</var>, giving 
                          <code class="hint_blue">
                              <var>(Y_SCALE === 1)?"":Y_SCALE_DISPLAY</var>f(x<var>X_SHIFT &gt; 0? "+":"-"</var><var>abs(X_SHIFT)</var>)
                              <var>Y_SHIFT &gt; 0? "+":"-"</var><var>abs(Y_SHIFT)</var></var>
                          </code>.
                       </p>
                       <div class="graphie" data-update="G">
                           style({
                           stroke: BLUE,
                           strokeWidth: 2,
                           strokeDasharray: ""
                           });
                           path([ [ -X_ORIG, Y_SCALE * Y_ORIG + Y_SHIFT ], [ -X_ORIG - X_SHIFT , Y_SCALE * Y_ORIG + Y_SHIFT] ]);
                       </div>
                   </div>
                   <div>
                       <p>We now know that <code>g(x)</code> = 
                           <code>
                               <var>(Y_SCALE === 1)?"":Y_SCALE_DISPLAY</var>f(x<var>X_SHIFT &gt; 0? "+":"-"</var><var>abs(X_SHIFT)</var>)
                               <var>Y_SHIFT &gt; 0? "+":"-"</var><var>abs(Y_SHIFT)</var></var>
                           </code>
                       </p>
                   </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
